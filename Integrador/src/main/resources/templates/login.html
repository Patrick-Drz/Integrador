<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
                rel="stylesheet"
                href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        />
        <link rel="stylesheet" href="styleLogin.css" />
        <title>Delivery UTP</title>
    </head>

    <body>
        <div class="container" id="container">
            <div class="form-container sign-up">
                <form id="registerForm">
                    <h1>Crear Cuenta</h1>
                    <div class="social-icons">
                        <a href="#" class="icon"><i class="fa-brands fa-google-plus-g"></i></a>
                        <a href="#" class="icon"><i class="fa-brands fa-facebook-f"></i></a>
                        <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
                        <a href="#" class="icon"><i class="fa-brands fa-linkedin-in"></i></a>
                    </div>
                    <span>o usa tu correo electrónico para registrarte</span>

                    <input type="text" placeholder="Nombre Completo" name="registerNombreCompleto" id="registerNombreCompleto" required />
                    <input type="text" placeholder="Código de Estudiante (Ej: u12345678)" name="registerCodigoEstudiante" id="registerCodigoEstudiante"
                           pattern="[uU]\d{8}" title="Debe ser 'u' o 'U' seguida de 8 dígitos (Ej: u12345678)" required />
                    <input type="email" placeholder="Correo" name="registerEmail" id="registerEmail" required />
                    <input type="password" placeholder="Contraseña" name="registerPassword" id="registerPassword" required />
                    <button type="submit">Registrarse</button>
                </form>
            </div>

            <div class="form-container sign-in">
                <form th:action="@{/login}" method="post">
                    <h1>Iniciar Sesión</h1>
                    <div class="social-icons">
                        <a href="#" class="icon"><i class="fa-brands fa-google-plus-g"></i></a>
                        <a href="#" class="icon"><i class="fa-brands fa-facebook-f"></i></a>
                        <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
                        <a href="#" class="icon"><i class="fa-brands fa-linkedin-in"></i></a>
                    </div>
                    <span>o usa tu correo y contraseña</span>
                    <input type="email" placeholder="Correo" name="loginEmail" required />
                    <input type="password" placeholder="Contraseña" name="loginPassword" required />
                    <a href="#">¿Olvidaste tu Contraseña?</a>
                    <button type="submit">Entrar</button>
                </form>
            </div>

            <div class="toggle-container">
                <div class="toggle">
                    <div class="toggle-panel toggle-left">
                        <h1>¡Bienvenido de Nuevo!</h1>
                        <p>Ingresa tus datos para acceder a nuestra página.</p>
                        <button id="login">Iniciar Sesión</button>
                    </div>
                    <div class="toggle-panel toggle-right">
                        <h1>¡Hola, Futuro Usuario!</h1>
                        <p>
                            Regístrate para empezar a disfrutar de nuestros servicios.
                        </p>
                        <button id="register">Registrarse</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="myModal" class="modal modal-hidden">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <p id="modalMessage"></p>
                <button id="modalActionButton" class="modal-button">OK</button>
            </div>
        </div>

        <script src="script.js"></script>

        <script th:inline="javascript">
            /*<![CDATA[*/
            var error = /*[[${param.error}]]*/ null;
            var logout = /*[[${param.logout}]]*/ null;
            if (error != null) {
                showModal("Correo o contraseña incorrectos. Inténtalo de nuevo.", false, null);
            }
            if (logout != null) {
                showModal("Has cerrado sesión correctamente.", true, null);
            }
            /*]]>*/
        </script>
    </body>
</html>